{"version":3,"file":"sw2ngx.es5.js","sources":["../src/utils/logger.ts","../src/utils/simhash/jenkins.ts","../src/utils/simhash/simhash.ts","../src/utils/parser.ts","../src/interfaces/params.ts","../src/utils/helpcli.ts","../src/utils/templates/module.ts","../src/utils/templates/service.ts","../src/utils/templates/enum.ts","../node_modules/rollup-plugin-node-builtins/src/es6/path.js","../src/utils/templates/model.ts","../src/utils/template-printer.ts","../src/sw2ngx.ts","../src/index.ts"],"sourcesContent":["export interface IColor {\r\n    [key:string]: string\r\n}\r\nexport const COLORS_HLP = {\r\n    reset: \"\\x1b[0m\",\r\n    bright: \"\\x1b[1m\",\r\n    dim: \"\\x1b[2m\",\r\n    underscore: \"\\x1b[4m\",\r\n    blink: \"\\x1b[5m\",\r\n    reverse: \"\\x1b[7m\",\r\n    hidden: \"\\x1b[8m\"\r\n} as IColor;\r\n\r\nexport const COLORS_TXT = {\r\n    black: \"\\x1b[30m\",\r\n    red: \"\\x1b[31m\",\r\n    green: \"\\x1b[32m\",\r\n    yellow: \"\\x1b[33m\",\r\n    blue: \"\\x1b[34m\",\r\n    magenta: \"\\x1b[35m\",\r\n    cyan: \"\\x1b[36m\",\r\n    white: \"\\x1b[37m\"\r\n} as IColor;\r\n\r\nexport const COLORS_BG = {\r\n    black: \"\\x1b[40m\",\r\n    red: \"\\x1b[41m\",\r\n    green: \"\\x1b[42m\",\r\n    yellow: \"\\x1b[43m\",\r\n    blue: \"\\x1b[44m\",\r\n    magenta: \"\\x1b[45m\",\r\n    cyan: \"\\x1b[46m\",\r\n    white: \"\\x1b[47m\"\r\n} as IColor;\r\n\r\nexport class Logger {\r\n\r\n    public reset(): Logger {\r\n        process.stdout.write(COLORS_HLP.reset);\r\n        return this;\r\n    }\r\n    public bg(color: string):Logger {\r\n        process.stdout.write(COLORS_BG[color]);\r\n        return this;\r\n\r\n    }\r\n    public fg(color: string): Logger {\r\n        process.stdout.write(COLORS_TXT[color]);\r\n        return this;\r\n    }\r\n    public write(line: string): Logger {\r\n        process.stdout.write(line);\r\n        return this;\r\n    }\r\n    public writeln(line: string): Logger {\r\n        process.stdout.write(line);\r\n        process.stdout.write('\\r\\n');\r\n        return this;\r\n    }\r\n    public info(message: string) {\r\n        this.reset().writeln('').fg('blue').writeln(message).reset();\r\n    }\r\n    public err(message: string) {\r\n        this.reset().writeln('').fg('red').writeln(message).reset();\r\n    }\r\n    public ok(message: string) {\r\n        this.reset().writeln('').fg('green').writeln(message).reset();\r\n    }\r\n}","export class Jenkins {\r\n    public pc: number = 0;\r\n    public pb: number = 0;\r\n    constructor() {\r\n        /**\r\n         * Default first initial seed.\r\n         */\r\n        this.pc = 0;\r\n\r\n        /**\r\n         * Default second initial seed.\r\n         */\r\n        this.pb = 0;\r\n    }\r\n\r\n    // --------------------------------------------------\r\n    // Public access\r\n    // --------------------------------------------------\r\n\r\n    /**\r\n     * Computes and returns 32-bit hash of given message.\r\n     */\r\n    public hash32(msg: string) {\r\n        const h = this.lookup3(msg, this.pc, this.pb);\r\n        return (h.c).toString(16);\r\n    }\r\n\r\n    /**\r\n     * Computes and returns 32-bit hash of given message.\r\n     */\r\n    public hash64(msg: string) {\r\n        const h = this.lookup3(msg, this.pc, this.pb);\r\n        return (h.b).toString(16) + (h.c).toString(16);\r\n    }\r\n    private lookup3(k: string, pc: number, pb: number) {\r\n        let length = k.length;\r\n        let a;\r\n        let b;\r\n        let c;\r\n\r\n        a = b = c = 0xdeadbeef + length + pc;\r\n        c += pb;\r\n\r\n        let offset = 0;\r\n        let mixed;\r\n        while (length > 12) {\r\n            a += k.charCodeAt(offset + 0);\r\n            a += k.charCodeAt(offset + 1) << 8;\r\n            a += k.charCodeAt(offset + 2) << 16;\r\n            a += k.charCodeAt(offset + 3) << 24;\r\n\r\n            b += k.charCodeAt(offset + 4);\r\n            b += k.charCodeAt(offset + 5) << 8;\r\n            b += k.charCodeAt(offset + 6) << 16;\r\n            b += k.charCodeAt(offset + 7) << 24;\r\n\r\n            c += k.charCodeAt(offset + 8);\r\n            c += k.charCodeAt(offset + 9) << 8;\r\n            c += k.charCodeAt(offset + 10) << 16;\r\n            c += k.charCodeAt(offset + 11) << 24;\r\n\r\n            mixed = this.mix(a, b, c);\r\n            a = mixed.a;\r\n            b = mixed.b;\r\n            c = mixed.c;\r\n\r\n            length -= 12;\r\n            offset += 12;\r\n        }\r\n\r\n        switch (length) {\r\n            case 12:\r\n                c += k.charCodeAt(offset + 11) << 24;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 11:\r\n                c += k.charCodeAt(offset + 10) << 16;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 10:\r\n                c += k.charCodeAt(offset + 9) << 8;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 9:\r\n                c += k.charCodeAt(offset + 8);\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 8:\r\n                b += k.charCodeAt(offset + 7) << 24;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 7:\r\n                b += k.charCodeAt(offset + 6) << 16;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 6:\r\n                b += k.charCodeAt(offset + 5) << 8;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 5:\r\n                b += k.charCodeAt(offset + 4);\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 4:\r\n                a += k.charCodeAt(offset + 3) << 24;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 3:\r\n                a += k.charCodeAt(offset + 2) << 16;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 2:\r\n                a += k.charCodeAt(offset + 1) << 8;\r\n            // tslint:disable-next-line:no-switch-case-fall-through\r\n            case 1:\r\n                a += k.charCodeAt(offset + 0);\r\n                break;\r\n\r\n            case 0:\r\n                return { c: c >>> 0, b: b >>> 0 };\r\n        }\r\n\r\n        // Final mixing of three 32-bit values in to c\r\n        mixed = this.finalMix(a, b, c)\r\n        a = mixed.a;\r\n        b = mixed.b;\r\n        c = mixed.c;\r\n\r\n        return { c: c >>> 0, b: b >>> 0 };\r\n    }\r\n\r\n    /**\r\n     * Mixes 3 32-bit integers reversibly but fast.\r\n     */\r\n    private mix(a: number, b: number, c: number) {\r\n        a -= c;\r\n        a ^= this.rot(c, 4);\r\n        c += b;\r\n        b -= a;\r\n        b ^= this.rot(a, 6);\r\n        a += c;\r\n        c -= b;\r\n        c ^= this.rot(b, 8);\r\n        b += a;\r\n        a -= c;\r\n        a ^= this.rot(c, 16);\r\n        c += b;\r\n        b -= a;\r\n        b ^= this.rot(a, 19);\r\n        a += c;\r\n        c -= b;\r\n        c ^= this.rot(b, 4);\r\n        b += a;\r\n        return { a: a, b: b, c: c };\r\n    }\r\n\r\n    /**\r\n     * Final mixing of 3 32-bit values (a,b,c) into c\r\n     */\r\n    private finalMix(a:number, b: number, c: number) {\r\n        c ^= b;\r\n        c -= this.rot(b, 14);\r\n        a ^= c;\r\n        a -= this.rot(c, 11);\r\n        b ^= a;\r\n        b -= this.rot(a, 25);\r\n        c ^= b;\r\n        c -= this.rot(b, 16);\r\n        a ^= c;\r\n        a -= this.rot(c, 4);\r\n        b ^= a;\r\n        b -= this.rot(a, 14);\r\n        c ^= b;\r\n        c -= this.rot(b, 24);\r\n        return { a: a, b: b, c: c };\r\n    }\r\n    /**\r\n     * Rotate x by k distance.\r\n     */\r\n    private rot(x: number, k: number) {\r\n        return (((x) << (k)) | ((x) >> (32 - (k))));\r\n    }\r\n\r\n}\r\n\r\n\r\n// --------------------------------------------------\r\n// Private methods\r\n// --------------------------------------------------\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {Jenkins} from './jenkins';\r\n\r\nexport interface ISimHashOptions {\r\n    kshingles?: number;\r\n    maxFeatures?: number;\r\n}\r\n\r\nexport class SimHash {\r\n    public kshingles: number = 4;\r\n    public maxFeatures: number = 128;\r\n    constructor(options?: ISimHashOptions) {\r\n        if (options) {\r\n            /**\r\n             * By default, we tokenize input into chunks of this size.\r\n             */\r\n            if (options.kshingles) {\r\n                this.kshingles = options.kshingles;\r\n            }\r\n            /**\r\n             * By default, this many number of minimum shingles will \r\n             * be combined to create the final hash.\r\n             */\r\n            if (options.maxFeatures) {\r\n                this.maxFeatures = options.maxFeatures;\r\n            }\r\n        }\r\n    }\r\n\r\n    // --------------------------------------------------\r\n    // Public access\r\n    // --------------------------------------------------\r\n\r\n    /**\r\n     * Driver function.\r\n     */\r\n    public hash(input: string) {\r\n        const tokens = this.tokenize(input);\r\n        const shingles = [];\r\n        const jenkins = new Jenkins();\r\n        for (let i in tokens) {\r\n            shingles.push(jenkins.hash32(tokens[i]));\r\n        }\r\n        let simhash = this.combineShingles(shingles);\r\n        simhash >>>= 0;\r\n        return simhash;\r\n    };\r\n    /**\r\n     * Tokenizes input into 'kshingles' number of tokens.\r\n     */\r\n    private tokenize(original: string) {\r\n        const size = original.length;\r\n        if (size <= this.kshingles) {\r\n            return [original.substr(0)];\r\n        }\r\n\r\n        const shingles = [];\r\n        for (let i = 0; i < size; i = i + this.kshingles) {\r\n            shingles.push(i + this.kshingles < size ? original.slice(i, i + this.kshingles) : original.slice(i));\r\n        }\r\n        return shingles;\r\n    };\r\n\r\n    private combineShingles(shingles: any[]) {\r\n        if (shingles.length === 0) return;\r\n\r\n        if (shingles.length === 1) return shingles[0];\r\n\r\n        shingles.sort(this.hashComparator);\r\n        if (shingles.length > this.maxFeatures) shingles = shingles.splice(this.maxFeatures);\r\n\r\n        let simhash = 0x0;\r\n        let mask = 0x1;\r\n        for (let pos = 0; pos < 32; pos++) {\r\n            let weight = 0;\r\n            for (let i in shingles) {\r\n                let shingle = parseInt(shingles[i], 16);\r\n                weight += !(~shingle & mask) === true ? 1 : -1;\r\n            }\r\n            if (weight > 0) simhash |= mask;\r\n            mask <<= 1;\r\n        }\r\n\r\n        return simhash;\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Calculates binary hamming distance of two base 16 integers.\r\n     */\r\n    private hammingDistanceSlow(x: string, y: string) {\r\n        let distance = 0;\r\n        let val = parseInt(x, 16) ^ parseInt(y, 16);\r\n        while (val) {\r\n            ++distance;\r\n            val &= val - 1;\r\n        }\r\n        return distance;\r\n    };\r\n\r\n    /**\r\n     * TODO: Use a priority queue. Till then this comparator is \r\n     * used to find the least 'maxFeatures' shingles.\r\n     */\r\n    public hashComparator(a: number, b: number) {\r\n        return a < b ? -1 : (a > b ? 1 : 0);\r\n    };\r\n};\r\n\r\n\r\n\r\n","import { ISwaggerConfig, ISwaggerProperty, ISwaggerParam } from './../interfaces/swagger.interface';\r\nimport { Logger } from './logger';\r\nimport { IParserModel, IParserEnum, IParserService, IParserResolvedType, IParserServiceList, IParserParam } from '../interfaces/parser';\r\nimport { SimHash } from './simhash/simhash';\r\n\r\nexport class Parser {\r\n    private _enums: IParserEnum[] = [];\r\n    private _models: IParserModel[] = [];\r\n    private _servicesList: IParserServiceList = {};\r\n    private _logger: Logger = new Logger();\r\n    private _simHash: SimHash = new SimHash();\r\n\r\n    public parse(config: ISwaggerConfig): Promise<any> {\r\n        return new Promise<any>((resolve, reject) => {\r\n            this._logger.info('start parsing');\r\n            this.parseModels(config).then((res) => {\r\n                this._logger.info('models parsed');\r\n                this.parseServices(config).then((res) => {\r\n                    this._logger.info('services parsed');\r\n                    resolve([this._enums, this._models, this._servicesList]);\r\n                }, (err) => {\r\n                    this._logger.info('services error');\r\n                    this.handleError(JSON.stringify(err));\r\n                    reject(err);\r\n                })\r\n            }, (err) => {\r\n                this._logger.err('[ ERROR ]: Parsing enums error!');\r\n                this.handleError(JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    public parseModels(config: ISwaggerConfig): Promise<[IParserEnum[], IParserModel[]]> {\r\n        const models = config.definitions;\r\n        return new Promise<[IParserEnum[], IParserModel[]]>((resolve, reject) => {\r\n            for (const key in models) {\r\n                const model = {\r\n                    name: '',\r\n                    description: '',\r\n                    imports: [],\r\n                    props: []\r\n                } as IParserModel;\r\n                if (models.hasOwnProperty(key)) {\r\n                    const imports = [];\r\n                    model.name = key;\r\n                    model.description = models[key].description;\r\n                    for (const prop in models[key].properties) {\r\n                        if (models[key].properties.hasOwnProperty(prop)) {\r\n                            const temp = this.parseModelProp(prop, models[key].properties[prop], model.name);\r\n                            imports.push(temp.imports);\r\n                            model.props.push(temp);\r\n                        }\r\n                    }\r\n                    model.imports = this.resolveImports(imports);\r\n                }\r\n                this._models.push(model);\r\n            }\r\n            resolve([this._enums, this._models]);\r\n        });\r\n    }\r\n\r\n    public parseTags(tags: string[]) {\r\n        if (tags.length >= 1) {\r\n            return tags[0];\r\n        } else {\r\n            return '__common'\r\n        }\r\n    }\r\n\r\n    public parseServices(config: ISwaggerConfig): Promise<IParserServiceList> {\r\n        return new Promise<IParserServiceList>((resolve, reject) => {\r\n            let result: IParserServiceList = {\r\n                __common: {\r\n                    uri: config.basePath,\r\n                    imports: [],\r\n                    methods: []\r\n                }\r\n            };\r\n            for (let path in config.paths) {\r\n                if (config.paths.hasOwnProperty(path)) {\r\n                    for (let method in config.paths[path]) {\r\n                        if (config.paths[path].hasOwnProperty(method)) {\r\n                            this._logger.ok(path);\r\n                            let parsedMethod = this.parseMethod(path, method, config.paths[path][method]);\r\n                            if (result.hasOwnProperty(parsedMethod.tag)) {\r\n                                result[parsedMethod.tag].methods.push(parsedMethod);\r\n                            } else {\r\n                                result[parsedMethod.tag] = {\r\n                                    uri: config.basePath,\r\n                                    imports: [],\r\n                                    methods: [parsedMethod]\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._servicesList = this.resolveServiceImports(result);\r\n            resolve(this._servicesList);\r\n        });\r\n    }\r\n\r\n    public parseMethod(uri: string, type: string, method: any) {\r\n\r\n        try {\r\n            const tag = this.parseParams(method.parameters, method.operationId);\r\n        } catch (e) {\r\n            console.error('params');\r\n        }\r\n\r\n        const tag = this.parseTags(method.tags);\r\n        const params = this.parseParams(method.parameters, method.operationId);\r\n        const resp = this.parseResponse(method.responses, method.operationId);\r\n        return {\r\n            uri: uri.replace(/\\{/ig, '${'),\r\n            type: type,\r\n            tag: tag,\r\n            name: method.operationId,\r\n            description: method.summary,\r\n            params: params,\r\n            resp: resp\r\n        }\r\n    }\r\n\r\n    public resolveServiceImports(servicesList: IParserServiceList) {\r\n        for (let serv in servicesList) {\r\n            if (servicesList.hasOwnProperty(serv)) {\r\n                let imports = [];\r\n                for (let method of servicesList[serv].methods) {\r\n                    if (method.resp.length > 0) {\r\n                        for (let item of method.resp) {\r\n                            imports.push(item.typeImport);\r\n                        }\r\n                    }\r\n                    for (let param of method.params.all) {\r\n                        if (param.type.typeImport) {\r\n                            imports.push(param.type.typeImport);\r\n                        }\r\n                    }\r\n                }\r\n                servicesList[serv].imports = this.resolveImports(imports);\r\n            }\r\n        }\r\n        return servicesList;\r\n    }\r\n\r\n    public get models(): IParserModel[] {\r\n        return this._models;\r\n    }\r\n\r\n    public get enums(): IParserEnum[] {\r\n        return this._enums;\r\n    }\r\n\r\n    public get services(): IParserServiceList {\r\n        return this._servicesList;\r\n    }\r\n\r\n    public parseParams(params: ISwaggerParam[], method: string) {\r\n        const parsed = {\r\n            all: [],\r\n            uri: [],\r\n            query: [],\r\n            payload: [],\r\n            form: [],\r\n            urlencoded:[]\r\n        } as {\r\n                [key: string]: IParserParam[]\r\n            };\r\n        for (const param in params) {\r\n            if (params.hasOwnProperty(param)) {\r\n                let type = null;\r\n                this._logger.info(JSON.stringify(params[param]));\r\n                const paramName = this.resolveParamName(params[param].name);\r\n                this._logger.info(paramName);\r\n                if (params[param].schema) {\r\n                    this._logger.ok('type1');\r\n                    type = this.resolveType(params[param].schema as ISwaggerProperty, paramName, method);\r\n                } else {\r\n                    this._logger.ok('type2');\r\n                    type = this.resolveType(params[param] as ISwaggerProperty, paramName, method);\r\n                }\r\n\r\n\r\n                let res = {\r\n                    name: this.clearName(params[param].name),\r\n                    queryName: paramName,\r\n                    description: params[param].description ? params[param].description : '',\r\n                    required: params[param].required ? true : false,\r\n                    type: type\r\n                } as IParserParam;\r\n\r\n                if (params[param].in === 'path') {\r\n                    parsed.uri.push(res);\r\n                }\r\n                if (params[param].in === 'query') {\r\n                    parsed.query.push(res);\r\n                }\r\n                if (params[param].in === 'body') {\r\n                    parsed.payload.push(res);\r\n                }\r\n                if (params[param].in === 'formData') {\r\n                    parsed.form.push(res);\r\n                }\r\n                parsed.all.push(res);\r\n            }\r\n        }\r\n        return parsed;\r\n    }\r\n\r\n    public clearName(name: string): string {\r\n        const baseTypes = [\r\n            'number', 'string', 'boolean', 'any', 'array'\r\n        ];\r\n        let result = name.replace(/\\.|\\-/ig, '');\r\n        if (baseTypes.indexOf(result) !== -1) {\r\n            result = result + 'Param';\r\n        }\r\n        return result;\r\n    }\r\n    public resolveParamName(name: string): string {\r\n        this._logger.ok(name);\r\n        let temp = name.split('.');\r\n        if (temp.length > 1) {\r\n            let result = temp.pop() as string;\r\n            console.log(result);\r\n            let tmpResult = result.split('');\r\n            tmpResult[0] = tmpResult[0].toUpperCase();\r\n            return tmpResult.join('');\r\n        }\r\n        return temp.pop() as any;\r\n    }\r\n\r\n    public parseResponse(responses: any, method: string): IParserResolvedType[] {\r\n        if (responses['200']) {\r\n            if (responses['200']['schema']) {\r\n                let resolvedType: IParserResolvedType = { typeName: '', typeImport: '' } as IParserResolvedType;\r\n                if (responses['200']['schema']['enum']) {\r\n                    resolvedType.typeName = 'number';\r\n                } else {\r\n                    resolvedType = this.resolveType(responses['200']['schema'], 'response', method);\r\n                }\r\n                if (resolvedType.typeName === '') {\r\n                    return [{\r\n                        typeName: 'any',\r\n                        typeImport: null\r\n                    }];\r\n                } else {\r\n                    if (resolvedType.typeImport !== '') {\r\n                        return [resolvedType];\r\n                    } else {\r\n                        return [{\r\n                            typeName: resolvedType.typeName,\r\n                            typeImport: null\r\n                        }];\r\n                    }\r\n                }\r\n            } else {\r\n                return [{\r\n                    typeName: 'any',\r\n                    typeImport: null\r\n                }];\r\n            }\r\n        } else {\r\n            return [{\r\n                typeName: 'any',\r\n                typeImport: null\r\n            }];\r\n        }\r\n    }\r\n\r\n    public resolveImports(imports: any[]): any[] {\r\n        const result = [];\r\n        for (const imp of imports) {\r\n            if (result.indexOf(imp) === -1) {\r\n                if (imp !== null) {\r\n                    result.push(imp);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public parseModelProp(name: string, prop: ISwaggerProperty, modelName: string) {\r\n        const resolvedType = this.resolveType(prop, name, modelName);\r\n        return {\r\n            name: name,\r\n            type: resolvedType.typeName,\r\n            imports: resolvedType.typeImport,\r\n            description: prop.description !== '' ? prop.description : ''\r\n        }\r\n    }\r\n\r\n    public resolveType(prop: ISwaggerProperty, name: string, parent: string): IParserResolvedType {\r\n        let curname = name.replace(/\\.|\\-/ig, '_');\r\n        if (prop === undefined) {\r\n            return {\r\n                typeName: 'any',\r\n                typeImport: null\r\n            };\r\n        }\r\n        if ((!prop.enum) && (!prop.format)) {\r\n            if (prop.$ref !== undefined) {\r\n                const temp = prop.$ref.split('/');\r\n                return {\r\n                    typeName: temp[temp.length - 1],\r\n                    typeImport: temp[temp.length - 1]\r\n                };\r\n            }\r\n            if ((prop.type === 'boolean') ||\r\n                (prop.type === 'string') ||\r\n                (prop.type === 'number')) {\r\n                return {\r\n                    typeName: prop.type,\r\n                    typeImport: null\r\n                };\r\n            }\r\n            if (prop.type === 'array') {\r\n                if (prop.items) {\r\n                    const temp = this.resolveType(prop.items, curname, parent);\r\n                    return {\r\n                        typeName: temp.typeName + \"[]\",\r\n                        typeImport: temp.typeImport\r\n                    };\r\n                }\r\n\r\n            }\r\n            if (prop.type === 'object') {\r\n                return {\r\n                    typeName: 'any',\r\n                    typeImport: null\r\n                };\r\n            }\r\n        } else {\r\n            if (prop.enum !== undefined) {\r\n                return this.resolveEnums(prop.description, prop.enum, name, parent);\r\n            }\r\n            if (prop.format) {\r\n                const result = { typeName: '', typeImport: null };\r\n                switch (prop.format) {\r\n                    case 'date-time':\r\n                    case 'date':\r\n                        result.typeName = 'string';\r\n                        break;\r\n                    case 'int32':\r\n                    case 'integer':\r\n                    case 'float':\r\n                    case 'double':\r\n                    case 'int64':\r\n                        result.typeName = 'number';\r\n                        break;\r\n                    case 'password':\r\n                        result.typeName = 'string';\r\n                        break;\r\n                    default:\r\n                        result.typeName = 'any';\r\n                        break;\r\n                }\r\n                return result;\r\n            }\r\n\r\n        }\r\n        return {\r\n            typeName: 'any',\r\n            typeImport: null\r\n        };\r\n    }\r\n\r\n    public handleError(e: any) {\r\n        this._logger.reset().fg('red').writeln(e).reset();\r\n    }\r\n\r\n    public resolveEnums(description: string, evalue: number[], curname: string, parent: string): IParserResolvedType {\r\n        const hashName = this._simHash.hash(`${parent}_${curname}Set`);\r\n        // this._logger.ok(`${parent}_${curname}Set: ${hashName.toString(16)}`);\r\n        // this._logger.err(hashName);\r\n        const extact = this.extractEnums(description ? description : '', evalue, curname);\r\n        //  this._logger.err(JSON.stringify({description, evalue, curname, parent}))\r\n        const propEnum: IParserEnum = {\r\n            name: `${parent}_${curname}Set`,\r\n            modelName: parent,\r\n            value: extact,\r\n            hash: hashName.toString(16)\r\n        };\r\n        for(const item of this._enums){\r\n            if(item.hash === propEnum.hash){\r\n                return {\r\n                    typeName: propEnum.name,\r\n                    typeImport: propEnum.name\r\n                }\r\n            }\r\n        }\r\n        this._enums.push(propEnum);\r\n        return {\r\n            typeName: propEnum.name,\r\n            typeImport: propEnum.name\r\n        }\r\n    }\r\n\r\n    public extractEnums(description: string, propEnum: number[], name: string = 'enum') {\r\n        const result = [];\r\n        let indexOf = description.search(/\\(\\d/ig);\r\n        if (indexOf !== -1) {\r\n            description = description.substr(indexOf + 1).replace(')', '');\r\n            let temp = description.split(',');\r\n            for (let tmp of temp) {\r\n                ;\r\n                let key = tmp.split('=');\r\n                result.push({\r\n                    key: key[1],\r\n                    val: parseInt(key[0], 10)\r\n                });\r\n            }\r\n        } else {\r\n            for (const key in propEnum) {\r\n                if (propEnum.hasOwnProperty(key)) {\r\n                    result.push({\r\n                        key: name + propEnum[key],\r\n                        val: propEnum[key]\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n","export const GeneratorParams: IGeneratorParam[] = [\r\n    {\r\n        name: 'config',\r\n        keys: ['-c', '--c'],\r\n        noValue: false,\r\n        description: 'Swagger doc path'\r\n    },\r\n    {\r\n        name: 'out',\r\n        keys: ['-o', '--o'],\r\n        noValue: false,\r\n        description: 'Output directory'\r\n    },\r\n    {\r\n        name: 'help',\r\n        keys: [\r\n            '-h', '--h', 'help', '-help'\r\n        ],\r\n        noValue: true,\r\n        description: 'Call help'\r\n    }\r\n];\r\n\r\nexport interface IGeneratorParam {\r\n    name: string;\r\n    keys: string[];\r\n    noValue: boolean;\r\n    description: string;\r\n}","\r\nimport { Logger } from \"./logger\";\r\nimport { GeneratorParams } from \"../interfaces/params\";\r\nimport { IGeneratorConfig } from \"../interfaces/config\";\r\n\r\nexport class HelpCLI {\r\n    public logger: Logger  = new Logger();\r\n    public parseArgs(): IGeneratorConfig {\r\n        let params: IGeneratorConfig = {\r\n            config: '',\r\n            out: '',\r\n            help: false\r\n        };\r\n        const args = process.argv;\r\n        for (let i = 0; i < args.length; i++) {\r\n            for (const param of GeneratorParams) {\r\n                if (param.keys.indexOf(args[i]) !== -1) {\r\n                    if (param.noValue) {\r\n                        params[param.name] = true;\r\n                        break;\r\n                    } else {\r\n                        params[param.name] = args[i + 1];\r\n                        i++;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return params;\r\n    }\r\n    public printHelp() {\r\n        this.logger\r\n            .fg('green')\r\n            .writeln('')\r\n            .write('[HELP]')\r\n            .write(':')\r\n            .writeln('')\r\n            .reset()\r\n            .writeln('');\r\n        for (const key of GeneratorParams) {\r\n            let line = `     ${key.name}          `;\r\n            line = line.substr(0, 15);\r\n            let args = new Array(40).fill(' ');\r\n            let i = 1;\r\n            for (const arg of key.keys) {\r\n                args[i + 2] = arg;\r\n                i = i + 2;\r\n            }\r\n            this.logger.write(line)\r\n                .fg('yellow');\r\n            line = args.join('');\r\n            line = line.substr(0, 20);\r\n            this.logger.write(line)\r\n                .reset();\r\n            line = '     ' + key.description;\r\n            this.logger.write(line);\r\n            this.logger.writeln('');\r\n        }\r\n    }\r\n}\r\n","export class ModuleTemplate {\r\n\r\n    public compile(value: string[]) {\r\n        const servicesList: string[] = [];\r\n        for(const el of value){\r\n            servicesList.push(`${el}APIService,`);\r\n        }\r\n        const importsHead: string = servicesList.join('\\r\\n\\t');\r\n        const importsBody: string = servicesList.join('\\r\\n\\t\\t\\t\\t');\r\n        return `\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport {\r\n    ${importsHead}\r\n} from './services';\r\n\r\n@NgModule({\r\n  imports: [\r\n    HttpClientModule\r\n  ],\r\n  exports: [],\r\n  declarations: [],\r\n  providers: [\r\n  ],\r\n})\r\nexport class APIModule {\r\n  public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: APIModule,\r\n            providers: [\r\n                ${importsBody}\r\n            ],\r\n        };\r\n    }\r\n}\r\n`;\r\n    }\r\n}","import { IParserService, IParserMethod } from './../../interfaces/parser';\r\nexport class ServiceTemplate {\r\n    public imports(imp: string[]): string {\r\n        const imports = [];\r\n        imports.push(`import {`);\r\n        for (const item of imp) {\r\n            imports.push(`${item},`);\r\n        }\r\n        imports.push(`} from '../models';`);\r\n        return imports.join('\\r\\n');\r\n    }\r\n\r\n    public methodDescription(method: IParserMethod): string {\r\n        const temp = [];\r\n        temp.push(`\r\n    /**\r\n     * @method\r\n     * @name  ${method.name}\r\n     * @description${method.description ? method.description.replace('\\r\\n', ''): ''}\\r\\n`\r\n        );\r\n        for (const param of method.params.all) {\r\n            temp.push(`     * @param {${param.type.typeName}} ${param.name}\\r\\n`);\r\n        }\r\n        temp.push(`     */`);\r\n        return temp.join('');\r\n\r\n    }\r\n\r\n    public methodParams(method: IParserMethod, isInterface: boolean): string {\r\n        const temp = [];\r\n        for (const param of method.params.all) {\r\n            if(!isInterface){\r\n                if (param.default) {\r\n                    temp.push(`${param.name}: ${param.type.typeName} = '${param.default}'`);\r\n                } else {\r\n                    temp.push(`${param.name}: ${param.type.typeName}` + (param.required ? '' : ' = null'));\r\n                }\r\n            } else {\r\n                temp.push(`${param.name}${param.required?'':'?'}: ${param.type.typeName}`);\r\n            }\r\n        }\r\n        return temp.join(', ');\r\n    }\r\n\r\n    public methodBody(method: IParserMethod) {\r\n        const temp = [];\r\n        if (method.params.query.length > 0) {\r\n            temp.push(`\r\n        let paramString = '';`);\r\n            let isFirst = true;\r\n            for (const param of method.params.query) {\r\n                temp.push(`\r\n        if ((${param.name} !== undefined) && (${param.name} !== null)) {\r\n            paramString += '${isFirst ? '' : '&'}${param.queryName}=' + encodeURIComponent(${param.name}${param.type.typeName === 'Date' ? '.toISOString()' : '.toString()'});\r\n        }${param.required ? \" else { throw new Error('Required param(\" + param.name + \") not set!'); }\" : ''}`);\r\n                isFirst = false;\r\n            }\r\n            temp.push(`\r\n        options.params = new HttpParams({fromString: paramString});`);\r\n        }\r\n\r\n        if ((method.type === 'post') || (method.type === 'put')) {\r\n\r\n            if (method.params.form.length !== 0) {\r\n                temp.push(`\r\n        options.headers = new HttpHeaders();\r\n        options.headers.delete('Content-Type');\r\n        const form = new FormData();`);\r\n                for (let param of method.params.form) {\r\n                    if (param.type.typeName === 'any') {\r\n                        temp.push(`\r\n        form.append('${param.queryName}', ${param.name});`);\r\n                    } else {\r\n                        temp.push(`\r\n        form.append('${param.queryName}', JSON.stringify(${param.name}));`);\r\n                    }\r\n                }\r\n                temp.push(`\r\n        return this.http.${method.type}<${method.resp[0].typeName}>(this.uri + \\`${method.uri}\\`, form, options);`);\r\n            } else {\r\n                if (method.params.urlencoded.length !== 0) {\r\n                    temp.push(`\r\n        let payload = '';\r\n        options.headers = new HttpHeaders({'Content-Type': 'application/x-www-form-urlencoded'});`);\r\n                    let isFirst = true;\r\n                    for (const param of method.params.urlencoded) {\r\n                        temp.push(`\r\n        if ((${param.name} !== undefined) && (${param.name} !== null)) {\r\n            payload += '${isFirst ? '' : '&'}${param.queryName}=' + encodeURIComponent(${param.name}${param.type.typeName === 'Date' ? '.toISOString()' : '.toString()'});\r\n        }${param.required ? \" else { throw new Error('Required param(\" + param.name + \") not set!'); }\" : ''}`);\r\n                        isFirst = false;\r\n                    }\r\n                    temp.push(`\r\n        return this.http.${method.type}<${method.resp[0].typeName}>(this.uri + \\`${method.uri}\\`, payload, options);`);\r\n                }else{\r\n                    temp.push(`\r\n        // tslint:disable-next-line:prefer-const\r\n        let payload = {};\r\n        options.headers = new HttpHeaders({'Content-Type': 'application/json; charset=utf-8'});`);\r\n                    if (method.params.payload.length > 1) {\r\n                        for (let param of method.params.payload) {\r\n                            temp.push(`\r\n        payload['${param.queryName}'] = ${param.name};`);\r\n                        }\r\n                    } else {\r\n                        if (method.params.payload.length > 0) {\r\n                            temp.push(`\r\n        payload = ${method.params.payload[0].name};`);\r\n                        }\r\n                    }\r\n                    temp.push(`\r\n        return this.http.${method.type}<${method.resp[0].typeName}>(this.uri + \\`${method.uri}\\`, JSON.stringify(payload), options);`);\r\n                }\r\n            }\r\n        }\r\n\r\n        if ((method.type === 'get') || (method.type === 'delete')) {\r\n            temp.push(`\r\n        return this.http.${method.type}<${method.resp[0].typeName}>(this.uri + \\`${method.uri}\\`${method.params.query.length !== 0 ? ', options' : ''});`);\r\n        }\r\n\r\n        return temp.join('\\r\\n');\r\n    }\r\n    public body(methods: IParserMethod[]) {\r\n        const interBody: string[] = [];\r\n        const serviceBody: string[] = [];\r\n        for (const method of methods) {\r\n            interBody.push(`${this.methodDescription(method)}\r\n    ${method.name}(${this.methodParams(method, true)}): Observable<${method.resp[0].typeName}>;`);\r\n            serviceBody.push(`\\tpublic ${method.name}(${this.methodParams(method, false)}): Observable<${method.resp[0].typeName}> {\r\n        const options = {\r\n            headers: new HttpHeaders(),\r\n            params: new HttpParams()\r\n        };\r\n${this.methodBody(method)}\r\n    }`);\r\n        }\r\n        return { interfaceBody: interBody.join('\\r\\n'), serviceBody: serviceBody.join('\\r\\n') }\r\n    }\r\n    public compile(value: IParserService, name: string): string {\r\n        if(value.methods.length>0){\r\n            const imports: string = this.imports(value.imports);\r\n            const { interfaceBody, serviceBody } = this.body(value.methods);\r\n            return `import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\n${imports}\r\nexport interface I${name}APIService {\r\n${interfaceBody}\r\n}\r\n\r\n@Injectable()\r\nexport class ${name}APIService implements I${name}APIService {\r\n    public serviceName: string;\r\n    public uri: string;\r\n    constructor(\r\n        public http: HttpClient) {\r\n        this.serviceName = '${name}API';\r\n        this.uri = '${value.uri}';\r\n    }\r\n${serviceBody}\r\n}\\r\\n`;\r\n        }else{\r\n            return '';\r\n        }\r\n        \r\n    }\r\n}","import { IParserEnum } from './../../interfaces/parser';\r\nexport class EnumTemplate {\r\n    public body(value: IParserEnum): string {\r\n        const temp: string[] = [];\r\n        for(const param of value.value){\r\n            temp.push( `${param.key}= ${parseInt( param.val.toString() ,10).toString() !== 'NaN' ? param.val: '\"'+param.val+'\"'}`);\r\n        }\r\n        return temp.join(',\\r\\n\\t');\r\n    }\r\n    public compile(value: IParserEnum){\r\n        return `\r\nexport enum ${value.name} {\r\n    ${this.body(value)}\r\n}\r\n`;\r\n    }\r\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexport function resolve() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : '/';\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexport function normalize(path) {\n  var isPathAbsolute = isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isPathAbsolute).join('/');\n\n  if (!path && !isPathAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isPathAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexport function isAbsolute(path) {\n  return path.charAt(0) === '/';\n}\n\n// posix version\nexport function join() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n}\n\n\n// path.relative(from, to)\n// posix version\nexport function relative(from, to) {\n  from = resolve(from).substr(1);\n  to = resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n}\n\nexport var sep = '/';\nexport var delimiter = ':';\n\nexport function dirname(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n}\n\nexport function basename(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n}\n\n\nexport function extname(path) {\n  return splitPath(path)[3];\n}\nexport default {\n  extname: extname,\n  basename: basename,\n  dirname: dirname,\n  sep: sep,\n  delimiter: delimiter,\n  relative: relative,\n  join: join,\n  isAbsolute: isAbsolute,\n  normalize: normalize,\n  resolve: resolve\n};\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b' ?\n    function (str, start, len) { return str.substr(start, len) } :\n    function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","import { IParserModel } from './../../interfaces/parser';\r\nexport class ModelTemplate {\r\n\r\n    public modelImports(modelImports: string[],name: string) {\r\n        const imports = [];\r\n        imports.push(`import {`);\r\n        for (const item of modelImports) {\r\n            if(item!== name){\r\n                imports.push(`${item},`);\r\n            }\r\n        }\r\n        imports.push(`} from './';`);\r\n        return imports.join('\\r\\n');\r\n\r\n    }\r\n    \r\n    public body(value: any): {[key: string]: string} {\r\n        const itemp: string[] = []\r\n        const temp: string[] = [];\r\n        for (const param of value) {\r\n            if(param.description){\r\n                itemp.push(`/* ${param.description} */`);\r\n            }\r\n            itemp.push(`${param.name} : ${param.type};`);\r\n            temp.push(`public ${param.name}: ${param.type};`);\r\n        }\r\n        return {\r\n           iprop: itemp.join('\\r\\n\\t'), \r\n           prop: temp.join('\\r\\n\\t')\r\n        }\r\n    }\r\n    public compile(value: IParserModel) {\r\n        const { iprop, prop} = this.body(value.props);\r\n        return `\r\n${this.modelImports(value.imports, value.name)}\r\n\r\nexport interface I${value.name} {\r\n    ${iprop}\r\n}\r\n\r\nexport class ${value.name} implements I${value.name} {\r\n    ${prop}\r\n}\r\n`;\r\n    }\r\n}\r\n","import { ModuleTemplate } from './templates/module';\r\nimport { ServiceTemplate } from './templates/service';\r\nimport { Logger } from './logger';\r\nimport { EnumTemplate } from './templates/enum';\r\nimport { IParserEnum, IParserServiceList, IParserModel, IParserService } from './../interfaces/parser';\r\nimport rimraf from 'rimraf';\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\nimport { ModelTemplate } from './templates/model';\r\n\r\nexport class TemplatePrinter {\r\n    private out: string = '';\r\n    private enumCompiler: EnumTemplate = new EnumTemplate();\r\n    private modelCompiler: ModelTemplate = new ModelTemplate();\r\n    private serviceCompiler: ServiceTemplate = new ServiceTemplate();\r\n    private moduleCompiler: ModuleTemplate = new ModuleTemplate();\r\n    private _printedServices: string[] = [];\r\n    private _logger: Logger = new Logger();\r\n\r\n    public cleanFolder(): Promise<boolean> {\r\n        this._logger.info('clean start');\r\n        return new Promise<boolean>((resolve, reject) => {\r\n            const deleteFolderRecursive = (path: string)=> {\r\n                if (fs.existsSync(path)) {\r\n                    fs.readdirSync(path).forEach(function (file, index) {\r\n                        const curPath = path + \"/\" + file;\r\n                        if (fs.lstatSync(curPath).isDirectory()) { // recurse\r\n                            deleteFolderRecursive(curPath);\r\n                        } else { // delete file\r\n                            fs.unlinkSync(curPath);\r\n                        }\r\n                    });\r\n                    fs.rmdirSync(path);\r\n                }\r\n            }\r\n            try{\r\n                deleteFolderRecursive(path.resolve(this.out));\r\n                resolve();\r\n            }catch(e){\r\n                reject(e);\r\n            }\r\n            \r\n        });\r\n    }\r\n    public createFolders() {\r\n        return new Promise(\r\n            (resolve,reject)=>{\r\n                this.cleanFolder().then(() => {\r\n                    fs.mkdirSync(path.resolve(this.out));\r\n                    fs.mkdirSync(path.resolve(this.out + '/models'));\r\n                    fs.mkdirSync(path.resolve(this.out + '/models/enums'));\r\n                    fs.mkdirSync(path.resolve(this.out + '/services'));\r\n                    resolve();\r\n                }).catch(()=>{reject();})\r\n            }\r\n        );\r\n    }\r\n\r\n    public print(enums: IParserEnum[], models: IParserModel[], services: IParserServiceList, out: string): Promise<any> {\r\n        this.out = out;\r\n        return new Promise<any>((resolve, reject) => {\r\n            this.createFolders().then(()=>{\r\n                for (const item of enums) {\r\n                    this.printEnum(item);\r\n                }\r\n                this.printEnumIndex(enums);\r\n                for(const item of models){\r\n                    this.printModel(item);\r\n                }\r\n                this.printModelIndex(models);\r\n                for(const name in services){\r\n                    if(services.hasOwnProperty(name)){\r\n                        this.printService(services[name], name);\r\n                    }\r\n                }\r\n                this.printServiceIndex();\r\n                this.printModule();\r\n                this.printIndex();\r\n                resolve();\r\n            });\r\n        });\r\n\r\n    }\r\n    public printEnum(value: IParserEnum) {\r\n        const compiled = this.enumCompiler.compile(value);\r\n        // this._logger.ok(path.resolve(this.out + '/models/enums/' + value.name + '.enum.ts'));\r\n        try{\r\n            fs.writeFileSync(path.resolve(this.out + '/models/enums/' + value.name + '.enum.ts'), compiled);\r\n        } catch(e){\r\n            this._logger.err('[ ERROR ] file: ' + this.out + '/models/enums/' + value.name + '.enum.ts');\r\n        }\r\n\r\n    }\r\n    public printModel(model: IParserModel) {\r\n        const compiled = this.modelCompiler.compile(model);\r\n        /// this._logger.ok(path.resolve(this.out + '/models/' + model.name + '.model.ts'));\r\n\r\n        fs.writeFile(path.resolve(this.out + '/models/' + model.name + '.model.ts'), compiled,(err)=>{\r\n            if(err){\r\n                this._logger.err('[ ERROR ] file: ' + this.out + '/models/' + model.name + '.model.ts');\r\n                return;\r\n            }\r\n            this._logger.ok(     '[ OK    ] file: ' + this.out + '/models/' + model.name + '.model.ts');\r\n        });\r\n        \r\n     }\r\n    public printService(service: IParserService, name: string) {\r\n        const compiled = this.serviceCompiler.compile(service, name);\r\n        if(compiled!==''){\r\n            this._printedServices.push(name);\r\n            fs.writeFile(path.resolve(this.out + '/services/' + name + '.service.ts'), compiled, (err) => {\r\n                if (err) {\r\n                    this._logger.err('[ ERROR ] file: ' + this.out + '/services/' + name + '.service.ts');\r\n                    return;\r\n                }\r\n                this._logger.ok('[ OK    ] file: ' + this.out + '/services/' + name + '.service.ts');\r\n            });\r\n        }\r\n     }\r\n    public printModule() { \r\n       const compiled = this.moduleCompiler.compile(this._printedServices);\r\n        fs.writeFile(path.resolve(this.out + '/api.module.ts'), compiled, (err) => {\r\n            if (err) {\r\n                this._logger.err('[ ERROR ] file: ' + this.out + '/api.module.ts');\r\n                return;\r\n            }\r\n            this._logger.ok('[ OK    ] file: ' + this.out + '/api.module.ts');\r\n        });\r\n    }\r\n    public printIndex() {\r\n        const imports = `export * from './services';\r\nexport * from './models';\r\nexport { APIModule } from './api.module';\r\n`;\r\n        try {\r\n            fs.writeFileSync(path.resolve(this.out + '/index.ts'), imports);\r\n        } catch (e) {\r\n            this._logger.err('[ ERROR ] file: ' + this.out + '/index.ts');\r\n        }\r\n    }\r\n    public printServiceIndex() {\r\n        const imports = [];\r\n        for(let item of this._printedServices){\r\n            imports.push(`export { ${item}APIService, I${item}APIService } from './${item}.service';`);\r\n        }\r\n        imports.push('');\r\n        try {\r\n            fs.writeFileSync(path.resolve(this.out + '/services/index.ts'), imports.join('\\r\\n'));\r\n        } catch (e) {\r\n            this._logger.err('[ ERROR ] file: ' + this.out + '/services/index.ts');\r\n        }\r\n     }\r\n    public printModelIndex(models: IParserModel[]) {\r\n        const imports = [];\r\n        for (let item of models) {\r\n            imports.push(`export { ${item.name}, I${item.name} } from './${item.name}.model';`);\r\n        }\r\n        imports.push(`export * from './enums';`);\r\n        imports.push('');\r\n        try {\r\n            fs.writeFileSync(path.resolve(this.out + '/models/index.ts'), imports.join('\\r\\n'));\r\n        } catch (e) {\r\n            this._logger.err('[ ERROR ] file: ' + this.out + '/models/index.ts');\r\n        }\r\n     }\r\n    public printEnumIndex(enums: IParserEnum[]) {\r\n        const imports = [];\r\n        for(let item of enums){\r\n            imports.push(`export {${item.name}} from './${item.name}.enum';` );\r\n        }\r\n        imports.push('');\r\n        try {\r\n            fs.writeFileSync(path.resolve(this.out + '/models/enums/index.ts'), imports.join('\\r\\n'));\r\n        } catch (e) {\r\n            this._logger.err('[ ERROR ] file: ' + this.out + '/models/enums/index.ts');\r\n        }\r\n     }\r\n\r\n\r\n}\r\n","import { Parser } from \"./utils/parser\";\r\nimport { ISwaggerConfig } from \"./interfaces/swagger.interface\";\r\nimport { HelpCLI } from \"./utils/helpcli\";\r\nimport { IGeneratorConfig } from \"./interfaces/config\";\r\nimport * as fs from \"fs\";\r\nimport * as request from \"request\";\r\nimport { Logger } from \"./utils/logger\";\r\nimport {\r\n  IParserEnum,\r\n  IParserModel,\r\n  IParserServiceList\r\n} from \"./interfaces/parser\";\r\nimport { TemplatePrinter } from \"./utils/template-printer\";\r\n\r\nrequest.defaults({\r\n  strictSSL: false\r\n});\r\n\r\nexport default class Generator {\r\n  public config: IGeneratorConfig;\r\n  public swagger: ISwaggerConfig | null = null;\r\n  private parser: Parser = new Parser();\r\n  private helper: HelpCLI = new HelpCLI();\r\n  private _logger: Logger = new Logger();\r\n  private _printer: TemplatePrinter = new TemplatePrinter();\r\n  constructor(config: IGeneratorConfig | null = null) {\r\n    if (config) {\r\n      this.config = config;\r\n    } else {\r\n      this.config = this.helper.parseArgs();\r\n    }\r\n\r\n    if (this.config.help) {\r\n      this.helper.printHelp();\r\n    } else {\r\n      if (this.config.config !== \"\" && this.config.out !== \"\") {\r\n        this.start();\r\n      } else {\r\n        this._logger.err(\"Params not set, see help and try again:\");\r\n        this.helper.printHelp();\r\n      }\r\n    }\r\n  }\r\n  public start() {\r\n    this.getConfig(this.config.config).then(\r\n      res => {\r\n        this._logger.info(\"<Parsing Processed...>\");\r\n        this._logger.ok(JSON.stringify(res));\r\n        this.parser.parse(res).then(\r\n          (res: [IParserEnum[], IParserModel[], IParserServiceList]) => {\r\n            this._logger.ok(\"[ SUCCESS ]: Swagger JSON Parsed Successfull!\");\r\n            this._logger.info(\"<Files Saving>\");\r\n            let extend = null;\r\n            try {\r\n              extend = JSON.parse(\r\n                fs.readFileSync(\"./sw2ngx-extend.json\", \"utf-8\")\r\n              );\r\n            } catch (e) {\r\n              this._logger.info(\"Not have extends\");\r\n            }\r\n            if (extend) {\r\n              if (extend.enums) {\r\n                res[0].push(...extend.enums);\r\n              }\r\n              if (extend.models) {\r\n                res[1].push(...extend.models);\r\n              }\r\n              if (extend.services) {\r\n                for (const key in extend.services) {\r\n                  if (extend.services.hasOwnProperty(key)) {\r\n                    if (res[2].hasOwnProperty(key)) {\r\n                      if (extend.services[key].imports) {\r\n                        res[2][key].imports.push(\r\n                          ...extend.services[key].imports\r\n                        );\r\n                      }\r\n                      if (extend.services[key].methods) {\r\n                        res[2][key].methods.push(\r\n                          ...extend.services[key].methods\r\n                        );\r\n                      }\r\n                    } else {\r\n                      res[2][key] = extend.services[key];\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            // fs.writeFileSync(path.resolve('./result.json'), JSON.stringify({\r\n            //     enums: res[0],\r\n            //     models: res[1],\r\n            //     services: res[2]\r\n            // }));\r\n            this._printer.print(res[0], res[1], res[2], this.config.out).then(\r\n              () => {\r\n                this._logger.ok(\r\n                  \"[ SUCCESS ]: Generation API Module Successfull!\"\r\n                );\r\n              },\r\n              reject => {\r\n                console.log(\"end here\");\r\n                this._logger.err(JSON.stringify(reject));\r\n              }\r\n            );\r\n          },\r\n          err => {\r\n            this._logger.err(JSON.stringify(err));\r\n          }\r\n        );\r\n        // this._logger.info('<Create Swagger Map Object>');\r\n      },\r\n      err => {\r\n        this._logger.err(JSON.stringify(err));\r\n      }\r\n    );\r\n  }\r\n\r\n  private getConfig(conf: string): Promise<any> {\r\n    const promise = new Promise<any>((resolve, reject) => {\r\n      if (/http(s?)\\:\\/\\/\\S/gi.test(conf)) {\r\n        request.get(conf, (err, resp, body) => {\r\n          if (err) {\r\n              this._logger.err(err);\r\n              reject(err);\r\n          } else {\r\n            resolve(JSON.parse(body));\r\n          }\r\n        });\r\n      } else {\r\n        this.swagger = JSON.parse(fs.readFileSync(conf, \"utf-8\"));\r\n        resolve(this.swagger);\r\n      }\r\n    });\r\n\r\n    return promise;\r\n  }\r\n}\r\n","import Generator from \"./sw2ngx\";\r\n\r\nexport default Generator;\r\nconst app = new Generator();"],"names":["resolve","path","fs.existsSync","fs.readdirSync","fs.lstatSync","fs.unlinkSync","fs.rmdirSync","path.resolve","fs.mkdirSync","fs.writeFileSync","fs.writeFile","request.defaults","fs.readFileSync","request.get"],"mappings":"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"}